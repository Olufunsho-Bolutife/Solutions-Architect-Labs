Working with IAM management console

Tasks

1. Login to your root account
2. Create an IAM group with S3 read only acess (S3 support).
3. Create an IAM group with EC2 read only acess (EC2 support)
4. Create an IAM group with EC2 full access (EC2 admin)
5. Create 3 IAM users and add to the each group above as descibe below:


| User        |  Group        | Permissions |
| :---: | :---:       | :---:       |
| user1  | S3 support | Read-Only access to Amazon S3|
| user2  | Ec2 support  | Read-Only access to Amazon Ec2 |
| user3  |  EC2 admin  | Full access to Amazon EC2 instances|

6. Test your design

7. Perform clean up operations


Replicate the process above for  Schulltech organization descrcibed below:


| User        |  Group        | Permissions |
| :---:       | :---:         | :---:       |
| Adminstaff  | EC2 support | Read-Only access to Amazon EC2|
| Techstaff   | S3 support  | Full  access to Amazon S3 |
| ITexpert    |   EC2/SDK admin | Full access to EC2 and SDK|
| Financialmanager | Billing control | Billing Full Access|
|Financeuser  | Billing user |Billing view access|



https://docs.aws.amazon.com/IAM/latest/UserGuide/tutorial_users-self-manage-mfa-and-creds.html


# Notes from Lab Tasks

> ##  Login to your root account
To log into the root account all you need to do id to go to the console login page and log in as root user and not IAM user.

![Imgur](https://imgur.com/dwPyJmO.jpg)

Next, navigate to the IAM console to begin your creation

![Imgur](https://imgur.com/jHfXD7n.jpg)

> ##  Create an IAM group with S3 read only acess (S3 support).

An IAM user group is a collection of IAM users. User groups let you specify permissions for multiple users, which can make it easier to manage the permissions for those users. For example, you could have a user group called Admins and give that user group typical administrator permissions.

When a user in created and is placed in a group, he inherits the permissions of that group. in this tutorial wwe shall be creating different IAM groups, IAM users and granting different permissions to help us understand better AWS IAM.

Firstly, we want to creat e am IAM group named "S3 Support" and grant that group a S3 read only access

To do this, we will navigate to the IAM console, hit the user groups icon by the left of the screen and click on create groups

![Imgur](https://imgur.com/Dm1no3q.jpg)

![Imgur](https://imgur.com/7H2xKWL.jpg)


 Then we will name the group (S3 support) and add the required permission which is the S3 read only access

![Imgur](https://imgur.com/5xVM7ZV.jpg)

![Imgur](https://imgur.com/LwP7qiJ.jpg)

 And then our group is created

![Imgur](https://imgur.com/4ycWIb3.jpg)




> ##  Create an IAM group with EC2 read only acess (EC2 support)

To do this, we will navigate to the usergroups console and click on create groups

 Then we will name the group (ec2 support) and add the required permission which is the Ec2 read only access
 
![Imgur](https://imgur.com/C5lQAwk.jpg)

![Imgur](https://imgur.com/nID3dSN)


 And then our group is created

> ## Create an IAM group with EC2 full access (EC2 admin)

To do this, we will navigate to the usergroups console and click on create groups

 Then we will name the group (ec2 Admin) and add the required permission which is the Ec2 Full access
 
![Imgur](https://imgur.com/8GGNKyx.jpg)
 
![Imgur](https://imgur.com/MOI8Zbk.jpg)

 And then our groups are all created

![Imgur](https://imgur.com/wBA5Am8.jpg)



> ## Create 3 IAM users and add to each group above

Now, we want to create three IAM users and fix them into th S3 Support group, Ec2 Support roup, And Ec2 admin  respectively

Firstly we will create a new user named User_1 and add him to the S3 support group. to do this, go to the IAM console and click on the users tab on the left hand side of the console, once you enter through that tab, click on create user 

![Imgur](https://imgur.com/E5krYej.jpg)

![Imgur](https://imgur.com/Y1tLGX8.jpg)

We will only specify the name of the user(User_1) and the group to which he will belong. We do not need to add permissions to the user because he is oing to inherit the permission of the group (S3 read-only-access) and operate with that. We will also grant him programatic aceess for Access to resources through CLI and SDK while also granting him access to the manangement console using password.

![Imgur](https://imgur.com/pAXOe8U.jpg)

![Imgur](https://imgur.com/TtFBCBZ.jpg)

![Imgur](https://imgur.com/aiy0twg.jpg)

NOTE: The reason why the user is getting an additional policy "IAMUserChangePassword" policy is becasue while we were granting passwprd permissions, we required that the user changed his password from the autogenerated password given to him. Other than that, the only policy attached to the user is the policy inherited fro the group he is assigned to 

Make sure that once the user is created, you downlload the csv documnet that contains the password, secret access key, access key ID and the password of the user. This is because the access to those credentials is given once, so if you do not download it, you have no means of getting the users login credentials.

![Imgur](https://imgur.com/XZ1itDb.jpg)



Our user (User_1) is ready and all set

![Imgur](https://imgur.com/Dy0txXg.jpg)

Next we will create another user named User_2 and add him to the Ec2 support group. to do this, navigate to to the users console and click on create user 


Again, We will only specify the name of the user (User_2)and the group to which he will belong. Also We do not need to add permissions to the user because he is going to inherit the permission of the group (Ec2 read-only-access) and operate with that. We will also grant him programatic aceess for Access to resources through CLI and SDK while also granting him access to the manangement console using password.

![Imgur](https://imgur.com/Qe1RCMw.jpg)

![Imgur](https://imgur.com/YX3gcIa.jpg)

NOTE: The reason why the user is getting an additional policy "IAMUserChangePassword" policy is becasue while we were granting passwprd permissions, we required that the user changed his password from the autogenerated password given to him. Other than that, the only policy attached to the user is the policy inherited fro the group he is assigned to

Make sure that once the user is created, you downlload the csv documnet that contains the password, secret access key, access key ID and the password of the user. This is because the access to those credentials is given once, so if you do not download it, you have no means of getting the users login credentials.

![Imgur](https://imgur.com/kgV8ya7.jpg)

Our user (User_2) is ready and all set

![Imgur](https://imgur.com/Q2gpNz0.jpg)


Next we will create the third user named User_3 and add him to the Ec2 Admin group. to do this, navigate to to the users console and click on create user 


Yet again, We will only specify the name of the user (User_3)and the group to which he will belong. Also We do not need to add permissions to the user because he is going to inherit the permission of the group (Ec2 full access) and operate with that. We will also grant him programatic aceess for Access to resources through CLI and SDK while also granting him access to the manangement console using password.

![Imgur](https://imgur.com/dZp1Fv2.jpg)

![Imgur](https://imgur.com/8W5QYrR.jpg)

![Imgur](https://imgur.com/FAVQtPD.jpg)

NOTE: The reason why the user is getting an additional policy "IAMUserChangePassword" policy is becasue while we were granting passwprd permissions, we required that the user changed his password from the autogenerated password given to him. Other than that, the only policy attached to the user is the policy inherited fro the group he is assigned to


Make sure that once the user is created, you downlload the csv documnet that contains the password, secret access key, access key ID and the password of the user. This is because the access to those credentials is given once, so if you do not download it, you have no means of getting the users login credentials.

![Imgur](https://imgur.com/FtYTvtM.jpg)

Our user (User_3) is ready and all set

![Imgur](https://imgur.com/shoz3BF.jpg)


> ## 6. Test your design

Now what we will do is to test our design.

For user_1 whose permission is S3 read only, We will log into the management console with his credetials which we have downloaded then we will attempt to create abucket. If he is denied from performing the operation then our design is accurate. We will also attempt to perform a read buclket operation, If he is allowed to perform the operation, then our design is absolutely accurate. 

![Imgur](https://imgur.com/YU6V13Y.jpg)

![Imgur](https://imgur.com/xOEJcAA.jpg)

As seen in the screenshots above, user_1 was granted permission to read the buckets available but was not allowed to create a bucket because it is not within the jurisdiction of his permissions.  


For user_2 whose permission is Ec2 read only, We will log into the management console with his credetials which we have downloaded and  we will attempt to launch an instance, If he is denied from performing the operation then our design is accurate. We will also attempt to prform a read Ec2 operation, If he is allowed to perform the operation, then our design is absolutely accurate. 

![Imgur](https://imgur.com/7qhKPKZ.jpg)

![Imgur](https://imgur.com/saktjpr.jpg)


As seen in the screenshots above, user_2 was granted permission to read the Instances available but was not allowed to launch an instance because it is not within the jurisdiction of his permissions.




For user_3 whose permission is Ec2 full access,  We will log into the management console with his credetials which we have downloaded then we will attempt to access the billings dashboard. If he is denied from performing the operation then our design is accurate. We will also attempt to launch an instance, If he is allowed to perform the operation, then our design is absolutely accurate.

![Imgur](https://imgur.com/tDQTzK8.jpg)

![Imgur](https://imgur.com/D7gdDDi.jpg)


As seen in the screenshots above, user_3 was granted permission to launch  Instances  but was not allowed to view the billings dashboard because it is not within the jurisdiction of his permissions.


> ## Perform Clean-up Operations

Lastly, we have to clean up our account becasue these users we created are for testing purposes and not for production. Although creating IAM groups and user s do not come at aa csot in AWS, deleting non-active users and groups helps to keep the account safe and secure.

### To delete the groups creted, just go to the user grouos console, click on the three groups we created, click delete.

![Imgur](https://imgur.com/6q4lGch.jpg)

### To delete the users creted, just go to the users console, click on the three users created, click delete.

![Imgur](https://imgur.com/X165V0o.jpg)
















> ## Replicate the process above for  Schulltech organization descrcibed below:


| User        |  Group        | Permissions |
| :---:       | :---:         | :---:       |
| Adminstaff  | EC2 support | Read-Only access to Amazon EC2|
| Techstaff   | S3 support  | Full  access to Amazon S3 |
| ITexpert    |   EC2/SDK admin | Full access to EC2 and SDK|
| Financialmanager | Billing control | Billing Full Access|
|Financeuser  | Billing user |Billing view access|


We will folllow the exact same steps we did when we were creating the previous usesr ad groups. We will arrive at te desired result

Here are some screenshots showing the Users and groups of Schulltech organozation which we just created


![Imgur](https://imgur.com/na7xyLI.jpg)

![Imgur](https://imgur.com/nG5uWYK.jpg)

![Imgur](https://imgur.com/XufU97w.jpg)


![Imgur](https://imgur.com/j1T8yBM.jpg)

![Imgur](https://imgur.com/b0jA51S.jpg)


![Imgur](https://imgur.com/SDShn9V.jpg)

![Imgur](https://imgur.com/MTlvPAn.jpg)




THANK YOU FOR FOLLOWING. MAKE SURE YOU PERFORM CLEAN UP OPERATIONS WHEN DONE.